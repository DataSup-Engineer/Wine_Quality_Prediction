<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wine Quality Classifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üç∑ Wine Quality Classifier</h1>
            <p class="subtitle">Predict wine quality based on physicochemical properties</p>
        </header>

        {% if error %}
        <div class="error-message">
            <strong>Error:</strong> {{ error }}
        </div>
        {% endif %}

        <div class="form-container">
            <form method="POST" action="/predict">
                <h2>Enter Wine Characteristics</h2>
                
                <div class="form-section">
                    <h3>Acidity Properties</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fixed_acidity">{{ feature_labels['fixed_acidity'] }}</label>
                            <input type="number" step="0.01" id="fixed_acidity" name="fixed_acidity" 
                                   value="{{ form_data.fixed_acidity if form_data else '7.4' }}" required>
                            <span class="hint">Range: 3.8 - 15.9</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="volatile_acidity">{{ feature_labels['volatile_acidity'] }}</label>
                            <input type="number" step="0.01" id="volatile_acidity" name="volatile_acidity" 
                                   value="{{ form_data.volatile_acidity if form_data else '0.7' }}" required>
                            <span class="hint">Range: 0.08 - 1.58</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="citric_acid">{{ feature_labels['citric_acid'] }}</label>
                            <input type="number" step="0.01" id="citric_acid" name="citric_acid" 
                                   value="{{ form_data.citric_acid if form_data else '0.0' }}" required>
                            <span class="hint">Range: 0.0 - 1.66</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Sugar and Salt Content</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="residual_sugar">{{ feature_labels['residual_sugar'] }}</label>
                            <input type="number" step="0.01" id="residual_sugar" name="residual_sugar" 
                                   value="{{ form_data.residual_sugar if form_data else '1.9' }}" required>
                            <span class="hint">Range: 0.6 - 65.8</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="chlorides">{{ feature_labels['chlorides'] }}</label>
                            <input type="number" step="0.001" id="chlorides" name="chlorides" 
                                   value="{{ form_data.chlorides if form_data else '0.076' }}" required>
                            <span class="hint">Range: 0.009 - 0.611</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Sulfur Dioxide Levels</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="free_sulfur_dioxide">{{ feature_labels['free_sulfur_dioxide'] }}</label>
                            <input type="number" step="1" id="free_sulfur_dioxide" name="free_sulfur_dioxide" 
                                   value="{{ form_data.free_sulfur_dioxide if form_data else '11' }}" required>
                            <span class="hint">Range: 1 - 289</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="total_sulfur_dioxide">{{ feature_labels['total_sulfur_dioxide'] }}</label>
                            <input type="number" step="1" id="total_sulfur_dioxide" name="total_sulfur_dioxide" 
                                   value="{{ form_data.total_sulfur_dioxide if form_data else '34' }}" required>
                            <span class="hint">Range: 6 - 440</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Physical and Chemical Properties</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="density">{{ feature_labels['density'] }}</label>
                            <input type="number" step="0.0001" id="density" name="density" 
                                   value="{{ form_data.density if form_data else '0.9978' }}" required>
                            <span class="hint">Range: 0.987 - 1.039</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="pH">{{ feature_labels['pH'] }}</label>
                            <input type="number" step="0.01" id="pH" name="pH" 
                                   value="{{ form_data.pH if form_data else '3.51' }}" required>
                            <span class="hint">Range: 2.72 - 4.01</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="sulphates">{{ feature_labels['sulphates'] }}</label>
                            <input type="number" step="0.01" id="sulphates" name="sulphates" 
                                   value="{{ form_data.sulphates if form_data else '0.56' }}" required>
                            <span class="hint">Range: 0.22 - 2.0</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Alcohol Content and Wine Type</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="alcohol">{{ feature_labels['alcohol'] }}</label>
                            <input type="number" step="0.1" id="alcohol" name="alcohol" 
                                   value="{{ form_data.alcohol if form_data else '9.4' }}" required>
                            <span class="hint">Range: 8.0 - 14.9 (%)</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="wine_type">{{ feature_labels['wine_type'] }}</label>
                            <select id="wine_type" name="wine_type" required>
                                <option value="0" {% if form_data and form_data.wine_type == '0' %}selected{% endif %}>Red Wine</option>
                                <option value="1" {% if form_data and form_data.wine_type == '1' %}selected{% endif %}>White Wine</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="button-container">
                    <button type="submit" class="btn-predict">Predict Quality</button>
                    <button type="reset" class="btn-reset">Reset Form</button>
                </div>
            </form>
        </div>

        <footer>
            <p>Wine Quality Classifier using Logistic Regression</p>
            <p class="note">Quality scores typically range from 3 to 9</p>
        </footer>
    </div>
</body>
</html>
